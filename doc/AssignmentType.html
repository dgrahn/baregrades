<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: AssignmentType
  
    &mdash; Documentation by YARD 0.8.4.1
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (A)</a> &raquo;
    
    
    <span class="title">AssignmentType</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: AssignmentType
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">ActiveRecord::Base</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ActiveRecord::Base</li>
          
            <li class="next">AssignmentType</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">app/models/assignment_type.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>File: assignment_type.rb</p>

<pre class="code ruby"><code class="ruby">Class: AssignmentType
 Type: Model</code></pre>

<p>Author: Dan Grahn, Matt Brooker, Justin Engel</p>

<p>Description: This class holds information for assignment types. Assignment
types are groups of assignments such as tests, quizzes, or homeworks. They
have a have a weighting against the class as a whole (generally as a
percentage) and serve as a useful way to divide the class into gradable
sections.</p>
<hr style="height: 10px">


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#average-instance_method" title="#average (instance method)">- (decimal) <strong>average</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Calculates the average grade accross all students in the assignment type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_disabled-instance_method" title="#is_disabled (instance method)">- (boolean) <strong>is_disabled</strong>(user) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Determines whether or not the user has disabled this AssignmentType.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#maximum-instance_method" title="#maximum (instance method)">- (decimal) <strong>maximum</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get the maximum grade percentage for this assignment type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#minimum-instance_method" title="#minimum (instance method)">- (decimal) <strong>minimum</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get the minimum grade percentage for this assignment type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#percent_complete-instance_method" title="#percent_complete (instance method)">- (int) <strong>percent_complete</strong>(user) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the percent of assignments the user has completed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#points-instance_method" title="#points (instance method)">- (decimal) <strong>points</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Total number of points under a given assignment type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sorted_assignments-instance_method" title="#sorted_assignments (instance method)">- (Array&lt;Assignment&gt;) <strong>sorted_assignments</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get assignments for this assignment type sorted by due date.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#user_grade-instance_method" title="#user_grade (instance method)">- (int) <strong>user_grade</strong>(user) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the user's grade for this assignment type.</p>
</div></span>
  
</li>

      
    </ul>
  


  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="average-instance_method">
  
    - (<tt>decimal</tt>) <strong>average</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Calculates the average grade accross all students in the assignment type.
This will only return the average if there are more than 2 sutdents
(privacy reasons), if there is a grade, and if the worth is above 0.</p>

<h4>Examples</h4>

<pre class="code ruby"><code class="ruby">average =&gt; 86</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>user</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="User.html" title="User (class)">User</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>User who may or may not have disabled the AssignmentType.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>decimal</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>average</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/assignment_type.rb', line 146</span>

<span class='kw'>def</span> <span class='id identifier rubyid_average'>average</span>
	<span class='kw'>if</span> <span class='int'>2</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_course'>course</span><span class='period'>.</span><span class='id identifier rubyid_users'>users</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='kw'>and</span> <span class='int'>0</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_grades'>grades</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='kw'>and</span> <span class='int'>0</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_worth'>worth</span>
		<span class='id identifier rubyid_average'>average</span> <span class='op'>=</span> <span class='int'>0</span>
		<span class='id identifier rubyid_grades'>grades</span>  <span class='op'>=</span> <span class='int'>0</span>

		<span class='id identifier rubyid_course'>course</span><span class='period'>.</span><span class='id identifier rubyid_users'>users</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_user'>user</span><span class='op'>|</span>
			<span class='id identifier rubyid_grade'>grade</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_user_grade'>user_grade</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
			
			<span class='kw'>if</span> <span class='id identifier rubyid_grade'>grade</span>
				<span class='id identifier rubyid_average'>average</span> <span class='op'>=</span> <span class='id identifier rubyid_average'>average</span> <span class='op'>+</span> <span class='id identifier rubyid_grade'>grade</span>
				<span class='id identifier rubyid_grades'>grades</span>  <span class='op'>=</span> <span class='id identifier rubyid_grades'>grades</span> <span class='op'>+</span> <span class='int'>1</span>
			<span class='kw'>end</span>
		<span class='kw'>end</span>

		<span class='kw'>return</span> <span class='id identifier rubyid_average'>average</span> <span class='op'>/</span> <span class='id identifier rubyid_grades'>grades</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_disabled-instance_method">
  
    - (<tt>boolean</tt>) <strong>is_disabled</strong>(user) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Determines whether or not the user has disabled this AssignmentType. Check
whether or not the assignment type has been disabled by the user. If there
is not an assignment type flag, then the assignment type defaults to the
current value of the assignment type. This allows users to express a
dissent in their view of enabled assignments.</p>

<h4>Examples</h4>

<pre class="code ruby"><code class="ruby">is_disabled(user) =&gt; true</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>user</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="User.html" title="User (class)">User</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>User who may or may not have disabled the AssignmentType.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Returns true if the assignment is disabled and false if it is not.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127
128
129
130
131
132
133
134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/assignment_type.rb', line 125</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_disabled'>is_disabled</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_flag'>flag</span> <span class='op'>=</span> <span class='const'>AssignmentTypeFlag</span><span class='period'>.</span><span class='id identifier rubyid_find_by_assignment_type_id_and_user_id'>find_by_assignment_type_id_and_user_id</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
	
	<span class='comment'># check for flag
</span>	<span class='kw'>if</span> <span class='id identifier rubyid_flag'>flag</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
		<span class='comment'># use assignment type disabled
</span>		<span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_disabled'>disabled</span> 
	<span class='kw'>else</span>
		<span class='comment'># use flag disabled
</span>		<span class='kw'>return</span> <span class='id identifier rubyid_flag'>flag</span><span class='period'>.</span><span class='id identifier rubyid_disabled'>disabled</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="maximum-instance_method">
  
    - (<tt>decimal</tt>) <strong>maximum</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get the maximum grade percentage for this assignment type. This will only
return the maximum if there are more than two students in the course
(privacy reasons) and the worth is above 0 .</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>decimal</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>maximum grade.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


170
171
172
173
174
175
176
177
178
179
180
181
182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/assignment_type.rb', line 170</span>

<span class='kw'>def</span> <span class='id identifier rubyid_maximum'>maximum</span>
	<span class='kw'>if</span> <span class='int'>2</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_course'>course</span><span class='period'>.</span><span class='id identifier rubyid_users'>users</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='kw'>and</span> <span class='int'>0</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_worth'>worth</span>
		<span class='id identifier rubyid_maximum'>maximum</span> <span class='op'>=</span> <span class='int'>0</span>
		
		<span class='id identifier rubyid_course'>course</span><span class='period'>.</span><span class='id identifier rubyid_users'>users</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_user'>user</span><span class='op'>|</span>
			<span class='id identifier rubyid_grade'>grade</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_user_grade'>user_grade</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
			
			<span class='kw'>if</span> <span class='id identifier rubyid_grade'>grade</span> <span class='kw'>and</span> <span class='id identifier rubyid_maximum'>maximum</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_grade'>grade</span>
				<span class='id identifier rubyid_maximum'>maximum</span> <span class='op'>=</span> <span class='id identifier rubyid_grade'>grade</span>
			<span class='kw'>end</span>
		<span class='kw'>end</span>

		<span class='kw'>return</span> <span class='id identifier rubyid_maximum'>maximum</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="minimum-instance_method">
  
    - (<tt>decimal</tt>) <strong>minimum</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get the minimum grade percentage for this assignment type. This will only
return the minimum if there are more than two students in the course
(privacy reasons) and the worth is above 0.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>decimal</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Minimum grade.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


192
193
194
195
196
197
198
199
200
201
202
203
204
205
206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/assignment_type.rb', line 192</span>

<span class='kw'>def</span> <span class='id identifier rubyid_minimum'>minimum</span>
	<span class='kw'>if</span> <span class='int'>2</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_course'>course</span><span class='period'>.</span><span class='id identifier rubyid_users'>users</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='kw'>and</span> <span class='int'>0</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_worth'>worth</span>
		<span class='id identifier rubyid_minimum'>minimum</span> <span class='op'>=</span> <span class='int'>999</span>
		
		<span class='id identifier rubyid_course'>course</span><span class='period'>.</span><span class='id identifier rubyid_users'>users</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_user'>user</span><span class='op'>|</span>
			<span class='id identifier rubyid_grade'>grade</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_user_grade'>user_grade</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
			
			<span class='kw'>if</span> <span class='id identifier rubyid_grade'>grade</span> <span class='kw'>and</span> <span class='id identifier rubyid_grade'>grade</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_minimum'>minimum</span>
				<span class='id identifier rubyid_minimum'>minimum</span> <span class='op'>=</span> <span class='id identifier rubyid_grade'>grade</span>
			<span class='kw'>end</span>
		<span class='kw'>end</span>

		<span class='kw'>return</span> <span class='id identifier rubyid_minimum'>minimum</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="percent_complete-instance_method">
  
    - (<tt>int</tt>) <strong>percent_complete</strong>(user) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the percent of assignments the user has completed.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>user</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="User.html" title="User (class)">User</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>User who's completed assignments will be used to determine how much of the
AssignmentType is completed.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The percent of assignments completed.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/assignment_type.rb', line 94</span>

<span class='kw'>def</span> <span class='id identifier rubyid_percent_complete'>percent_complete</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_completedWorth'>completedWorth</span> <span class='op'>=</span> <span class='float'>0.0</span>
	<span class='id identifier rubyid_totalWorth'>totalWorth</span> <span class='op'>=</span> <span class='float'>0.0</span>
	
	<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_assignments'>assignments</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_assignment'>assignment</span><span class='op'>|</span>
		<span class='id identifier rubyid_totalWorth'>totalWorth</span> <span class='op'>+=</span> <span class='id identifier rubyid_assignment'>assignment</span><span class='period'>.</span><span class='id identifier rubyid_worth'>worth</span>
		
		<span class='kw'>if</span> <span class='id identifier rubyid_assignment'>assignment</span><span class='period'>.</span><span class='id identifier rubyid_user_grade'>user_grade</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
			<span class='id identifier rubyid_completedWorth'>completedWorth</span> <span class='op'>+=</span> <span class='id identifier rubyid_assignment'>assignment</span><span class='period'>.</span><span class='id identifier rubyid_worth'>worth</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
	
	<span class='kw'>if</span> <span class='id identifier rubyid_totalWorth'>totalWorth</span> <span class='op'>!=</span> <span class='int'>0</span>
		<span class='kw'>return</span> <span class='id identifier rubyid_completedWorth'>completedWorth</span> <span class='op'>/</span> <span class='id identifier rubyid_totalWorth'>totalWorth</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="points-instance_method">
  
    - (<tt>decimal</tt>) <strong>points</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Total number of points under a given assignment type</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>decimal</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The sum of all assignments' worth.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


33
34
35
36
37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/assignment_type.rb', line 33</span>

<span class='kw'>def</span> <span class='id identifier rubyid_points'>points</span>
	<span class='id identifier rubyid_points'>points</span> <span class='op'>=</span> <span class='int'>0</span>
	<span class='id identifier rubyid_assignments'>assignments</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_assignment'>assignment</span><span class='op'>|</span>
		<span class='id identifier rubyid_points'>points</span> <span class='op'>+=</span> <span class='id identifier rubyid_assignment'>assignment</span><span class='period'>.</span><span class='id identifier rubyid_worth'>worth</span>
	<span class='kw'>end</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_points'>points</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sorted_assignments-instance_method">
  
    - (<tt>Array&lt;<span class='object_link'><a href="Assignment.html" title="Assignment (class)">Assignment</a></span>&gt;</tt>) <strong>sorted_assignments</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get assignments for this assignment type sorted by due date.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Assignment.html" title="Assignment (class)">Assignment</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Sorted assignments</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


44
45
46</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/assignment_type.rb', line 44</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sorted_assignments'>sorted_assignments</span>
	<span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_assignments'>assignments</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>due_date</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="user_grade-instance_method">
  
    - (<tt>int</tt>) <strong>user_grade</strong>(user) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the user's grade for this assignment type</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>user</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="User.html" title="User (class)">User</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A User who's grade for the AssignmentType will be calculated.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>int</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the user's grade</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/assignment_type.rb', line 52</span>

<span class='kw'>def</span> <span class='id identifier rubyid_user_grade'>user_grade</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_totalGrade'>totalGrade</span> <span class='op'>=</span> <span class='int'>0</span>
	<span class='id identifier rubyid_totalWorth'>totalWorth</span> <span class='op'>=</span> <span class='int'>0</span>

	<span class='id identifier rubyid_grades'>grades</span> <span class='op'>=</span> <span class='const'>Grade</span><span class='period'>.</span><span class='id identifier rubyid_joins'>joins</span><span class='lparen'>(</span><span class='symbol'>:assignment</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>assignments.assignment_type_id</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbol'>:user_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>

	<span class='kw'>if</span> <span class='id identifier rubyid_drop_lowest'>drop_lowest</span>
		<span class='comment'># If we are dropping the lowest score, we have to calculate the grades individually
</span>		<span class='id identifier rubyid_scores'>scores</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

		<span class='comment'># Calculate each score
</span>		<span class='id identifier rubyid_grades'>grades</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_g'>g</span><span class='op'>|</span>
			<span class='kw'>if</span> <span class='id identifier rubyid_g'>g</span><span class='period'>.</span><span class='id identifier rubyid_assignment'>assignment</span><span class='period'>.</span><span class='id identifier rubyid_worth'>worth</span> <span class='op'>!=</span> <span class='int'>0</span>
				<span class='id identifier rubyid_scores'>scores</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_g'>g</span><span class='period'>.</span><span class='id identifier rubyid_grade'>grade</span> <span class='op'>/</span> <span class='id identifier rubyid_g'>g</span><span class='period'>.</span><span class='id identifier rubyid_assignment'>assignment</span><span class='period'>.</span><span class='id identifier rubyid_worth'>worth</span><span class='rparen'>)</span>
			<span class='kw'>end</span>
		<span class='kw'>end</span>
		
		<span class='comment'># Sort and remove lowest score
</span>		<span class='id identifier rubyid_scores'>scores</span> <span class='op'>=</span> <span class='id identifier rubyid_scores'>scores</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
		<span class='id identifier rubyid_scores'>scores</span><span class='period'>.</span><span class='id identifier rubyid_delete_at'>delete_at</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>
	
		<span class='comment'># Calculate grade using remainder
</span>		<span class='kw'>if</span> <span class='id identifier rubyid_scores'>scores</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>!=</span> <span class='int'>0</span>
			<span class='kw'>return</span> <span class='id identifier rubyid_scores'>scores</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span> <span class='op'>/</span> <span class='id identifier rubyid_scores'>scores</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>*</span> <span class='int'>100</span>
		<span class='kw'>end</span>

	<span class='kw'>else</span>
		<span class='comment'># Calculate the grades in bulk
</span>		<span class='id identifier rubyid_grade'>grade</span> <span class='op'>=</span> <span class='id identifier rubyid_grades'>grades</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span><span class='lparen'>(</span><span class='symbol'>:grade</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>
		<span class='id identifier rubyid_worth'>worth</span> <span class='op'>=</span> <span class='id identifier rubyid_grades'>grades</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span><span class='lparen'>(</span><span class='symbol'>:worth</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>

		<span class='kw'>if</span> <span class='id identifier rubyid_worth'>worth</span> <span class='op'>!=</span> <span class='int'>0</span>
			<span class='kw'>return</span> <span class='lparen'>(</span><span class='id identifier rubyid_grade'>grade</span> <span class='op'>/</span> <span class='id identifier rubyid_worth'>worth</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>100</span>
		<span class='kw'>end</span>

	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Tue Feb 19 13:45:19 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.4.1 (ruby-1.9.3).
</div>

  </body>
</html>